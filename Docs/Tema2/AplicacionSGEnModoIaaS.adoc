////
NO CAMBIAR!!
Codificación, idioma, tabla de contenidos, tipo de documento
////
:encoding: utf-8
:lang: es
:toc: right
:toc-title: Tabla de contenidos
:doctype: book
:linkattrs:


:figure-caption: Fig.

////
Nombre y título del trabajo
////
# Despliegue de una aplicación en modo IaaS
Cloud Computing - Máster en Tecnologías y Aplicaciones en Ingeniería Informática
José Joaquín Cañadas y Manuel Torres <jjcanada@ual.es> <mtorres@ual.es>

image::../Tema0/images/di.png[]

// NO CAMBIAR!! (Entrar en modo no numerado de apartados)
:numbered!: 

[abstract]
== Resumen


////
COLOCA A CONTINUACION LOS OBJETIVOS
////
.Objetivos
* 

// Entrar en modo numerado de apartados
:numbered:

### Crear instancia MySQL

[NOTE]
====
Se está usando el password `secret`.
====

[source, bash]
----
#!/bin/bash
apt-get update
debconf-set-selections <<< 'mysql-server mysql-server/root_password password secret'
debconf-set-selections <<< 'mysql-server mysql-server/root_password_again password secret'
apt-get -y install mysql-server
curl 'https://gist.githubusercontent.com/ualmtorres/eb328b653fcc5964f976b22c320dc10f/raw/448b00c44d7102d66077a393dad555585862f923/init.sql' | mysql -u root -psecret
sed -i 's/bind-address/#bind-address/g' /etc/mysql/mysql.conf.d/mysqld.cnf
service mysql restart
mysql -u root -psecret --execute="GRANT ALL ON SG.* TO root@'%' IDENTIFIED BY 'secret'; FLUSH PRIVILEGES";
----

### Crear instancia PHP

[source, bash]
----
#!/bin/bash
apt-get update
apt-get install -y apache2
sudo apt-get install -y php libapache2-mod-php php-mcrypt
sudo chgrp -R www-data /var/www
sudo chmod -R 775 /var/www
sudo chmod -R g+s /var/www
sudo useradd -G www-data ubuntu
sudo chown -R ubuntu /var/www/
git clone https://github.com/ualmtorres/SGApp.git /var/www/html/SGApp
----

git clone https://github.com/ualmtorres/diariostic.git /var/www/html/diariostic